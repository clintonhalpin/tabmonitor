{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/inject.js","inject.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","storeName","getDateUID","Date","getFullYear","toString","getMonth","getDate","checkStorage","cache","p","Promise","resolve","reject","chrome","storage","local","get","item","setStorage","set","res","console","log","setInnerHTML","el","data","element","document","getElementsByClassName","innerHTML","renderOffLineApp","style","opacity","addEventListener","navigator","onLine","currentUID","tabObject","uid","tabs","then","appCache","title","querySelectorAll"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,EAAAU,EAAAJ,GCAA,YAEA,IAAIK,GAAY,WAYZC,EAAa,WACf,OAAO,GAAIC,OAAOC,cAAcC,YAAa,GAAIF,OAAOG,WAAWD,YAAa,GAAIF,OAAOI,UAAUF,YAGnGG,EAAe,SAASC,GACxB,GAAIC,GAAI,GAAIC,SAAQ,SAASC,EAASC,GAClCC,OAAOC,QAAQC,MAAMC,IAAIR,EAAO,SAASS,GACvCN,EAAQM,MAId,OAAOR,IAGPS,EAAa,SAASV,GACxBK,OAAOC,QAAQC,MAAMI,IAAIX,EAAO,SAASY,GACvCC,QAAQC,IAAIF,MAIZG,EAAe,SAASC,EAAIC,GAC9B,GAAIC,GAAUC,SAASC,uBAAuBJ,GAAI,EAClDE,GAAQG,UAAYJ,GAGlBK,EAAmB,WACrBH,SAASC,uBAAuB,OAAO,GAAGG,MAAMC,QAAU,EAC1DL,SAASC,uBAAuB,WAAW,GAAGG,MAAMC,QAAU,EAC/DL,UAGQM,iBAAiB,mBAAoB,WAC5C,GAAIC,UAAUC,OAEP,CACN,GAAIC,GAAanC,IAEboC,GACHC,IAAKF,EACLG,KAAM,EAGNhC,GAAcP,GAAYwC,KAAK,SAASpB,GAGtC,GAAIA,EAAIqB,SAQH,GAAGrB,EAAIqB,SAASH,KAAOF,EAAY,CACvCf,QAAQC,IAAI,QACZJ,GAAauB,SAAaJ,IAC1Bd,EAAa,SAAUc,EAAUE,KACjC,IAAIG,GAAQf,SAASgB,iBAAiB,SAAS,EAC/CD,GAAMb,UAAY,YAAcQ,EAAUE,KAAO,cAG7C,CACJF,EAAUE,KAAOnB,EAAIqB,SAASF,KAC9BF,EAAUE,OACVrB,GAAauB,SAAaJ,IAC1Bd,EAAa,SAAUc,EAAUE,KACjC,IAAIG,GAAQf,SAASgB,iBAAiB,SAAS,EAE/CD,GAAMb,UAAY,YAAcQ,EAAUE,KAAO,cAvBhC,CACjBrB,GAAauB,SAAaJ,IAC1Bd,EAAa,SAAUc,EAAUE,KACjC,IAAIG,GAAQf,SAASgB,iBAAiB,SAAS,EAC/CD,GAAMb,UAAY,YAAcQ,EAAUE,KAAO,iBAhBpDT,iBCwCO","file":"inject.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict'; \n\nvar storeName = 'appCache';\n\nvar TabDate = function() { \n  return {\n    date: {\n      updatedAt: new Date(),\n      uid: getDateUID()\n    },\n    tabs: 0\n  }\n};\n\nvar getDateUID = function() {\n  return new Date().getFullYear().toString() + new Date().getMonth().toString() + new Date().getDate().toString();\n}\n\nvar checkStorage = function(cache) {\n    var p = new Promise(function(resolve, reject){\n        chrome.storage.local.get(cache, function(item) {\n          resolve(item)\n        })\n    });\n\n    return p\n}\n\nvar setStorage = function(cache) {\n  chrome.storage.local.set(cache, function(res) {\n    console.log(res)\n  })\n}\n\nvar setInnerHTML = function(el, data) {\n  var element = document.getElementsByClassName(el)[0];\n  element.innerHTML = data;\n}\n\nvar renderOffLineApp = function() {\n  document.getElementsByClassName(\"app\")[0].style.opacity = 0;\n  document.getElementsByClassName(\"offline\")[0].style.opacity = 1;\n}\n\n// Light the fires and kick the tires\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  if(!navigator.onLine) {\n    renderOffLineApp();\n  } else {\n  \tvar currentUID = getDateUID();\n  \t\n  \tvar tabObject = {\n  \t\tuid: currentUID,\n  \t\ttabs: 1\n  \t};\n\n    checkStorage( storeName ).then(function(res) {\n      \n      // If we haven't created the store updated it!\n      if(!res.appCache) {\n      \tsetStorage({ 'appCache' : tabObject })\n      \tsetInnerHTML('number', tabObject.tabs)\n      \tvar title = document.querySelectorAll('title')[0];\n      \ttitle.innerHTML = 'New Tab (' + tabObject.tabs + ' today)';\n      }\n\n      // If the current UID dosen't match stored UID\n      else if(res.appCache.uid != currentUID) {\n      \tconsole.log('true')\n      \tsetStorage({ 'appCache' : tabObject })\n      \tsetInnerHTML('number', tabObject.tabs)\n      \tvar title = document.querySelectorAll('title')[0];\n      \ttitle.innerHTML = 'New Tab (' + tabObject.tabs + ' today)';\n      }\n\n      else {\n      \ttabObject.tabs = res.appCache.tabs;\n      \ttabObject.tabs++\n      \tsetStorage({ 'appCache' : tabObject});\n      \tsetInnerHTML('number', tabObject.tabs)\n      \tvar title = document.querySelectorAll('title')[0];\n\n      \ttitle.innerHTML = 'New Tab (' + tabObject.tabs + ' today)';\n      }\n    });\n  }\n});","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar storeName = 'appCache';\n\nvar TabDate = function () {\n  return {\n    date: {\n      updatedAt: new Date(),\n      uid: getDateUID()\n    },\n    tabs: 0\n  };\n};\n\nvar getDateUID = function () {\n  return new Date().getFullYear().toString() + new Date().getMonth().toString() + new Date().getDate().toString();\n};\n\nvar checkStorage = function (cache) {\n  var p = new Promise(function (resolve, reject) {\n    chrome.storage.local.get(cache, function (item) {\n      resolve(item);\n    });\n  });\n\n  return p;\n};\n\nvar setStorage = function (cache) {\n  chrome.storage.local.set(cache, function (res) {\n    console.log(res);\n  });\n};\n\nvar setInnerHTML = function (el, data) {\n  var element = document.getElementsByClassName(el)[0];\n  element.innerHTML = data;\n};\n\nvar renderOffLineApp = function () {\n  document.getElementsByClassName(\"app\")[0].style.opacity = 0;\n  document.getElementsByClassName(\"offline\")[0].style.opacity = 1;\n};\n\n// Light the fires and kick the tires\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  if (!navigator.onLine) {\n    renderOffLineApp();\n  } else {\n    var currentUID = getDateUID();\n\n    var tabObject = {\n      uid: currentUID,\n      tabs: 1\n    };\n\n    checkStorage(storeName).then(function (res) {\n\n      // If we haven't created the store updated it!\n      if (!res.appCache) {\n        setStorage({ 'appCache': tabObject });\n        setInnerHTML('number', tabObject.tabs);\n        var title = document.querySelectorAll('title')[0];\n        title.innerHTML = 'New Tab (' + tabObject.tabs + ' today)';\n      }\n\n      // If the current UID dosen't match stored UID\n      else if (res.appCache.uid != currentUID) {\n          console.log('true');\n          setStorage({ 'appCache': tabObject });\n          setInnerHTML('number', tabObject.tabs);\n          var title = document.querySelectorAll('title')[0];\n          title.innerHTML = 'New Tab (' + tabObject.tabs + ' today)';\n        } else {\n          tabObject.tabs = res.appCache.tabs;\n          tabObject.tabs++;\n          setStorage({ 'appCache': tabObject });\n          setInnerHTML('number', tabObject.tabs);\n          var title = document.querySelectorAll('title')[0];\n\n          title.innerHTML = 'New Tab (' + tabObject.tabs + ' today)';\n        }\n    });\n  }\n});\n\n},{}]},{},[1])\n\n"],"sourceRoot":"/source/"}